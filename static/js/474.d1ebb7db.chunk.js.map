{"version":3,"file":"static/js/474.d1ebb7db.chunk.js","mappings":"uQACA,EAA6B,8BAA7B,EAAwE,8BAAxE,EAAkH,6B,SCGnG,SAASA,EAAT,GAA+B,IAAVC,EAAS,EAATA,MAC1BC,EACND,EADMC,IAAKC,EACXF,EADWE,MAAOC,EAClBH,EADkBG,KAAMC,EACxBJ,EADwBI,kBAAmBC,EAC3CL,EAD2CK,SAAUC,EACrDN,EADqDM,iBAGvD,OACE,iCACE,iBAAKC,UAAWC,EAAhB,WACE,gBACED,UAAWC,EACXC,IAAKR,EACLS,IAAKR,EACLS,MAAM,MACNC,OAAO,SAET,4BACE,0BACGV,EADH,KACYC,EADZ,QAGA,wCAAgBC,EAAhB,QACA,sCACA,uBAAIC,KACJ,oCACA,uBAAIC,WAGR,iBAAKC,UAAWC,EAAhB,WACE,oDACA,2BACE,yBACE,SAAC,KAAD,CAAMK,GAAG,OAAT,qBAEF,yBACE,SAAC,KAAD,CAAMA,GAAG,UAAT,8BAIN,SAAC,KAAD,MAGL,CC1CD,MAAyB,iCCKV,SAASC,IACtB,IAAQC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MAEjB,GAAwCC,EAAAA,EAAAA,UAAS,MAAjD,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAA0BJ,EAAAA,EAAAA,WAAS,GAAnC,eAAOK,EAAP,KAAcC,EAAd,MAEAC,EAAAA,EAAAA,YAAU,WAAM,wCAGd,kIAScC,EAAAA,EAAAA,IAAgBd,GAT9B,gBAGMe,EAHN,EAGMA,YACA5B,EAJN,EAIMA,MACA6B,EALN,EAKMA,aACAC,EANN,EAMMA,aACA3B,EAPN,EAOMA,SACA4B,EARN,EAQMA,OAGIhC,EAXV,0CAWmD6B,GACzC3B,EAAO4B,EAAaG,MAAM,EAAG,GAC7B9B,EAAoB+B,KAAKC,MAAqB,GAAfJ,GAAmBK,WAClD/B,EAAmB2B,EAAOK,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,KAE9DhB,GAAa,GACbF,EAAgB,CACdtB,IAAAA,EACAC,MAAAA,EACAC,KAAAA,EACAC,kBAAAA,EACAC,SAAAA,EACAC,iBAAAA,IAvBN,kDA0BIoC,QAAQC,IAAR,MACAhB,GAAS,GA3Bb,yBA6BIF,GAAa,GA7BjB,8EAHc,sBACdA,GAAa,GADC,mCAmCdmB,EACD,GAAE,CAAC7B,IAMJ,OACE,4BACE,mBAAQR,UAAWC,EAAeqC,KAAK,SAASC,QANnC,WAAO,IAAD,MACrB3B,EAAQ,iBAACF,QAAD,IAACA,GAAD,UAACA,EAAU8B,aAAX,iBAAC,EAAiBC,YAAlB,aAAC,EAAuB/B,gBAAxB,QAAoC,IAC7C,EAIG,qBAGCK,IAAgB,SAACvB,EAAD,CAAWC,MAAOsB,IAClCE,IAAa,sCACbE,IAAS,iFAGf,C","sources":["webpack://react-homework-template/./src/components/MovieCard/MovieCard.module.css?a4e5","components/MovieCard/MovieCard.jsx","webpack://react-homework-template/./src/pages/MovieDetailsPage/MovieDetailsPage.module.css?9108","pages/MovieDetailsPage/MovieDetailsPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"card__main\":\"MovieCard_card__main__dZE3d\",\"card__more\":\"MovieCard_card__more__uItpt\",\"card__img\":\"MovieCard_card__img__ik1cL\"};","import { Link, Outlet } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport styles from './MovieCard.module.css';\n\nexport default function MovieCard({ movie }) {\n  const { img, title, date, scoreInPercentage, overview, genresNormalized } =\n    movie;\n\n  return (\n    <>\n      <div className={styles.card__main}>\n        <img\n          className={styles.card__img}\n          src={img}\n          alt={title}\n          width=\"270\"\n          height=\"400\"\n        />\n        <div>\n          <h2>\n            {title} ({date})\n          </h2>\n          <p>User Score: {scoreInPercentage}%</p>\n          <h3>Owerview</h3>\n          <p>{overview}</p>\n          <h3>Genres</h3>\n          <p>{genresNormalized}</p>\n        </div>\n      </div>\n      <div className={styles.card__more}>\n        <h4>Additional information</h4>\n        <ul>\n          <li>\n            <Link to=\"cast\">Cast</Link>\n          </li>\n          <li>\n            <Link to=\"reviews\">Reviews</Link>\n          </li>\n        </ul>\n      </div>\n      <Outlet />\n    </>\n  );\n}\n\nMovieCard.propTypes = {\n  movie: PropTypes.objectOf(PropTypes.string.isRequired).isRequired,\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"MovieDetailsPage_button__mSHH6\"};","import { useEffect, useState } from 'react';\nimport { useParams, useLocation, useNavigate } from 'react-router-dom';\nimport { getMovieDetails } from '../../service/Api-service';\nimport MovieCard from '../../components/MovieCard/MovieCard';\nimport styles from './MovieDetailsPage.module.css';\n\nexport default function MovieDetailsPage() {\n  const { movieId } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  const [movieDetails, setMovieDetails] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(false);\n\n  useEffect(() => {\n    setIsLoading(true);\n\n    async function fetchMovieDetails() {\n      try {\n        const {\n          poster_path,\n          title,\n          release_date,\n          vote_average,\n          overview,\n          genres,\n        } = await getMovieDetails(movieId);\n\n        const img = `https://image.tmdb.org/t/p/w500/${poster_path}`;\n        const date = release_date.slice(0, 4);\n        const scoreInPercentage = Math.round(vote_average * 10).toString();\n        const genresNormalized = genres.map(genre => genre.name).join(' ');\n\n        setIsLoading(false);\n        setMovieDetails({\n          img,\n          title,\n          date,\n          scoreInPercentage,\n          overview,\n          genresNormalized,\n        });\n      } catch (error) {\n        console.log(error);\n        setError(true);\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    fetchMovieDetails();\n  }, [movieId]);\n\n  const OnGoBack = () => {\n    navigate(location?.state?.from?.location ?? '/');\n  };\n\n  return (\n    <div>\n      <button className={styles.button} type=\"button\" onClick={OnGoBack}>\n        Go back\n      </button>\n      {movieDetails && <MovieCard movie={movieDetails} />}\n      {isLoading && <p>Loading...</p>}\n      {error && <p>Oops, something went wrong. Please, reload the page</p>}\n    </div>\n  );\n}\n"],"names":["MovieCard","movie","img","title","date","scoreInPercentage","overview","genresNormalized","className","styles","src","alt","width","height","to","MovieDetailsPage","movieId","useParams","location","useLocation","navigate","useNavigate","useState","movieDetails","setMovieDetails","isLoading","setIsLoading","error","setError","useEffect","getMovieDetails","poster_path","release_date","vote_average","genres","slice","Math","round","toString","map","genre","name","join","console","log","fetchMovieDetails","type","onClick","state","from"],"sourceRoot":""}